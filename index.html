<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Cards-UI by afollestad</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Cards-UI</h1>
        <h2>A library that allows you to easily mimic Google Play&#39;s card layout on Android.</h2>
        <a href="https://github.com/afollestad/Cards-UI" class="button"><small>View project on</small>GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h1>
<a name="welcome" class="anchor" href="#welcome"><span class="octicon octicon-link"></span></a>Welcome</h1>

<p><img src="https://raw.github.com/afollestad/Cards-UI/master/images/CardsUIThemes.png" alt="DeviceFrames"></p>

<p>Before you can get Cards-UI integrated with your project, you will need one dependency that needs to be referenced as an Android Library Project from Cards-UI (a library module in IntelliJ IDEA or Android Studio):</p>

<ol>
<li>
<strong>Silk</strong> (<a href="http://github.com/afollestad/Silk">http://github.com/afollestad/Silk</a>)</li>
</ol><hr><h1>
<a name="introduction" class="anchor" href="#introduction"><span class="octicon octicon-link"></span></a>Introduction</h1>

<p>Cards-UI consists of two main classes, <code>CardListView</code> and <code>CardAdapter</code>. </p>

<hr><ol>
<li>
<strong>CardListView</strong> – a ListView that enforces the use of a <code>CardAdapter</code> rather than any regular list adapter. Automatically sets its background to a lighter gray or darker gray based on the current theme, and handles notifying the adapter of theme changes. Has a <code>setOnCardClickListener(CardClickListener)</code> and <code>setOnCardLongClickListener(CardLongClickListener)</code> to optionally replace the standard click listeners of <code>ListView</code>.</li>
</ol><hr><ol>
<li>
<strong>CardAdapter</strong> – a <code>SilkAdapter</code> that handles rendering cards for the <code>CardListView</code>, which includes the images and title/content for regular cards and the title and action for header cards. The library also provides a <code>CardCursorAdapter</code> which is the same as the regular card adapter but it sources its contents from a Cursor using the Silk library's cursor adapter implementation (discussed later).</li>
</ol><hr><h3>
<a name="default-cards" class="anchor" href="#default-cards"><span class="octicon octicon-link"></span></a>Default Cards</h3>

<p>There's a simple set of default card implementations that can be used without using any of your own classes or layouts. You can extend and override them as needed (which is discussed later) to customize them to your liking.</p>

<hr><ul>
<li>
<strong>Card</strong> – a card that displays an optional thumbnail, along with a title, content, and popup menu.</li>
</ul><p><img src="https://raw.github.com/afollestad/Cards-UI/master/images/card_example.png" alt="CardExample"></p>

<hr><ul>
<li>
<strong>CardHeader</strong> – a card that's used as a header for a section of cards. Displays a title in italics on the left, with an action button on the right. The entire header is clickable, the action is just a hint towards clickability.</li>
</ul><p><img src="https://raw.github.com/afollestad/Cards-UI/master/images/header_example.png" alt="CardHeaderExample"></p>

<hr><ul>
<li>
<strong>CardCompressed</strong> – similar to a regular card, but the title and content are displayed on the same line, with the title on the far left and content on the far right. There is no thumbnail for this card type in the default implementation.</li>
</ul><p><img src="https://raw.github.com/afollestad/Cards-UI/master/images/compressed_example.png" alt="CardCompressedExample"></p>

<hr><ul>
<li>
<strong>CardCenteredHeader</strong> – a card header that displays only a centered title. This card type is useful for displaying empty text for a section within a list (looks good when it's below a <code>CardHeader</code>).</li>
</ul><p><img src="https://raw.github.com/afollestad/Cards-UI/master/images/centeredheader_example.png" alt="CardCenteredHeaderExample"></p>

<hr><h1>
<a name="code" class="anchor" href="#code"><span class="octicon octicon-link"></span></a>Code</h1>

<p>If you want to use just the default Card classes, implementing Cards-UI is very, very simple. First you need a <code>CardListView</code> instance:</p>

<div class="highlight highlight-java"><pre><span class="n">CardListView</span> <span class="n">list</span> <span class="o">=</span> <span class="o">...;</span> <span class="c1">// Retrieve from activity, fragment, etc.</span>
</pre></div>

<p>Optionally, you can set the theme (which is <code>Light</code> by default):</p>

<div class="highlight highlight-java"><pre><span class="n">list</span><span class="o">.</span><span class="na">setCardTheme</span><span class="o">(</span><span class="n">CardTheme</span><span class="o">.</span><span class="na">Dark</span><span class="o">);</span>
</pre></div>

<p>Then you need a <code>CardAdapter</code> instance, that is set to the list:</p>

<div class="highlight highlight-java"><pre><span class="c1">// The first parameter is the context, e.g. an Activity</span>
<span class="c1">// The second parameter is the accent color used for card and header titles/actions</span>
<span class="n">CardAdapter</span> <span class="n">adapter</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CardAdapter</span><span class="o">(</span><span class="k">this</span><span class="o">,</span> <span class="n">android</span><span class="o">.</span><span class="na">R</span><span class="o">.</span><span class="na">color</span><span class="o">.</span><span class="na">holo_blue_dark</span><span class="o">);</span>

<span class="c1">// This will connect the adapter and list, sharing the theme and contents</span>
<span class="n">list</span><span class="o">.</span><span class="na">setAdapter</span><span class="o">(</span><span class="n">adapter</span><span class="o">);</span>
</pre></div>

<hr><h3>
<a name="adding-cards" class="anchor" href="#adding-cards"><span class="octicon octicon-link"></span></a>Adding Cards</h3>

<p>Adding cards to your list is simple:</p>

<div class="highlight highlight-java"><pre><span class="c1">// Alternatively, you can pass a context and string resources in place of strings</span>
<span class="c1">// CardHeader has an optional second parameter for a subtitle</span>
<span class="n">CardHeader</span> <span class="n">header</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CardHeader</span><span class="o">(</span><span class="s">"I'm a header"</span><span class="o">);</span>
<span class="c1">// You can optionally set an action to the header</span>
<span class="c1">// Specifying no action title will default to 'See More'</span>
<span class="n">header</span><span class="o">.</span><span class="na">setAction</span><span class="o">(</span><span class="s">"See More"</span><span class="o">,</span> <span class="k">new</span> <span class="n">CardHeader</span><span class="o">.</span><span class="na">ActionListener</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onHeaderActionClick</span><span class="o">(</span><span class="n">CardHeader</span> <span class="n">header</span><span class="o">)</span> <span class="o">{</span>
                <span class="c1">// Do whatever you want</span>
            <span class="o">}</span>
        <span class="o">});</span>
<span class="c1">// Add the header to the adapter, automatically notifies the list</span>
<span class="n">adapter</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">header</span><span class="o">);</span>

<span class="c1">// Again, you can pass a context and string resources in place of strings</span>
<span class="n">Card</span> <span class="n">card</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Card</span><span class="o">(</span><span class="s">"Hello"</span><span class="o">,</span> <span class="s">"My name is Aidan"</span><span class="o">);</span>
<span class="n">adapter</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">card</span><span class="o">);</span>
</pre></div>

<p>All of the other default card classes accept the same format for their constructors.</p>

<hr><h3>
<a name="popup-menus" class="anchor" href="#popup-menus"><span class="octicon octicon-link"></span></a>Popup Menus</h3>

<p>If you look at app listings in Google Play, you can see the three-dot button on the top right of cards that gives you options such as "Install" so you don't have to go into the app page before installing an it. Cards-UI makes it easy to add popup menus like that. </p>

<p>There's two ways to do this: you can add a popup menu to the adapter to automatically set it to every card...</p>

<div class="highlight highlight-java"><pre><span class="n">CardAdapter</span> <span class="n">adapter</span> <span class="o">=</span> <span class="o">...;</span> <span class="c1">// initialize the adapter</span>
<span class="c1">// The menu resource is equivalent to what you use for action bar menus</span>
<span class="n">adapter</span><span class="o">.</span><span class="na">setPopupMenu</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">menu</span><span class="o">.</span><span class="na">popupmenu_resource</span><span class="o">,</span> <span class="k">new</span> <span class="n">Card</span><span class="o">.</span><span class="na">CardMenuListener</span><span class="o">&lt;</span><span class="n">Card</span><span class="o">&gt;()</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onMenuItemClick</span><span class="o">(</span><span class="n">Card</span> <span class="n">card</span><span class="o">,</span> <span class="n">MenuItem</span> <span class="n">item</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// Do whatever you want </span>
    <span class="o">}</span>
<span class="o">});</span>
</pre></div>

<p>...or you can set popup menus to individual cards if not every card should have the same menu.</p>

<div class="highlight highlight-java"><pre><span class="n">Card</span> <span class="n">card</span> <span class="o">=</span> <span class="o">...;</span> <span class="c1">// initialize the card</span>
<span class="c1">// The menu resource is equivalent to what you use for action bar menus</span>
<span class="n">card</span><span class="o">.</span><span class="na">setPopupMenu</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">menu</span><span class="o">.</span><span class="na">popupmenu_resource</span><span class="o">,</span> <span class="k">new</span> <span class="n">Card</span><span class="o">.</span><span class="na">CardMenuListener</span><span class="o">&lt;</span><span class="n">Card</span><span class="o">&gt;()</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onMenuItemClick</span><span class="o">(</span><span class="n">Card</span> <span class="n">card</span><span class="o">,</span> <span class="n">MenuItem</span> <span class="n">item</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// Do whatever you want </span>
    <span class="o">}</span>
<span class="o">});</span>
</pre></div>

<p>If a Card does not have a popup menu set via the adapter or the card itself, the three-dot menu icon will be hidden from the user.</p>

<hr><h1>
<a name="custom-cards-and-adapters" class="anchor" href="#custom-cards-and-adapters"><span class="octicon octicon-link"></span></a>Custom Cards and Adapters</h1>

<p>If you want to implement functionality that isn't provided by Cards-UI by default, you can extend its classes and layouts to whatever you need. Before you start, you should look at the layouts under <code>/res/layout</code> of Cards-UI. You'll see that each layout references styles to provide a consistent look among all the cards.</p>

<hr><h3>
<a name="making-a-custom-layout" class="anchor" href="#making-a-custom-layout"><span class="octicon octicon-link"></span></a>Making a Custom Layout</h3>

<p>First, you'll need a custom layout file. This layout is a modified version of the default card layout:</p>

<div class="highlight highlight-xml"><pre><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;LinearLayout</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>
              <span class="na">style=</span><span class="s">"@style/card_outer_frame"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;RelativeLayout</span> <span class="na">android:id=</span><span class="s">"@android:id/widget_frame"</span>
                    <span class="na">style=</span><span class="s">"@style/card_inner_frame"</span><span class="nt">&gt;</span>

        <span class="nt">&lt;ImageView</span> <span class="na">android:id=</span><span class="s">"@android:id/icon"</span> <span class="na">style=</span><span class="s">"@style/card_thumbnail"</span><span class="nt">/&gt;</span>

        <span class="nt">&lt;RelativeLayout</span> <span class="na">android:id=</span><span class="s">"@+id/titleFrame"</span> <span class="na">style=</span><span class="s">"@style/card_title_frame"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;TextView</span> <span class="na">android:id=</span><span class="s">"@android:id/title"</span> <span class="na">style=</span><span class="s">"@style/card_title"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;ImageButton</span> <span class="na">android:id=</span><span class="s">"@android:id/button1"</span> <span class="na">style=</span><span class="s">"@style/card_popup_anchor"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/RelativeLayout&gt;</span>

        <span class="nt">&lt;com.afollestad.silk.views.text.SilkTextView</span> <span class="na">android:id=</span><span class="s">"@android:id/content"</span>
                                                     <span class="na">style=</span><span class="s">"@style/card_content_custom"</span><span class="nt">/&gt;</span>

    <span class="nt">&lt;/RelativeLayout&gt;</span>
<span class="nt">&lt;/LinearLayout&gt;</span>
</pre></div>

<p>The only thing I changed for this example is the style set to <code>@android:id/content</code>. Here's the style definition of <code>card_content_custom</code> inside of my styles.xml file:</p>

<div class="highlight highlight-xml"><pre><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;resources&gt;</span>
    <span class="nt">&lt;style</span> <span class="na">name=</span><span class="s">"card_content_custom"</span> <span class="na">parent=</span><span class="s">"@style/card_content"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"android:singleLine"</span><span class="nt">&gt;</span>false<span class="nt">&lt;/item&gt;</span>
        <span class="nt">&lt;item</span> <span class="na">name=</span><span class="s">"android:maxLines"</span><span class="nt">&gt;</span>3<span class="nt">&lt;/item&gt;</span>
    <span class="nt">&lt;/style&gt;</span>
<span class="nt">&lt;/resources&gt;</span>
</pre></div>

<p>This custom layout takes away the singleLine behavior of the default card, and makes the maximum number of lines for the card content 3.</p>

<p>You then need a custom class that extends <code>Card</code> and overrides <code>getLayout()</code> to return your custom layout:</p>

<div class="highlight highlight-java"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">CustomCard</span> <span class="kd">extends</span> <span class="n">Card</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="nf">CustomCard</span><span class="o">(</span><span class="n">Context</span> <span class="n">context</span><span class="o">,</span> <span class="kt">int</span> <span class="n">title</span><span class="o">,</span> <span class="kt">int</span> <span class="n">content</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">(</span><span class="n">context</span><span class="o">,</span> <span class="n">title</span><span class="o">,</span> <span class="n">content</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getLayout</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">// Replace with your layout</span>
        <span class="k">return</span> <span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">custom_card</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>

<p>Now instead of adding a <code>Card</code> to your adapter, you add a <code>CustomCard</code>.</p>

<hr><h3>
<a name="adding-views" class="anchor" href="#adding-views"><span class="octicon octicon-link"></span></a>Adding Views</h3>

<p>If you need more views in your card layout, you can add them in and manually set their contents from a custom adapter. Here's a new custom layout with additional views:</p>

<div class="highlight highlight-xml"><pre><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;LinearLayout</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>
              <span class="na">style=</span><span class="s">"@style/card_outer_frame"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;RelativeLayout</span> <span class="na">android:id=</span><span class="s">"@android:id/widget_frame"</span>
                    <span class="na">style=</span><span class="s">"@style/card_inner_frame"</span><span class="nt">&gt;</span>

        <span class="nt">&lt;ImageView</span> <span class="na">android:id=</span><span class="s">"@android:id/icon"</span> <span class="na">style=</span><span class="s">"@style/card_thumbnail"</span><span class="nt">/&gt;</span>

        <span class="nt">&lt;RelativeLayout</span> <span class="na">android:id=</span><span class="s">"@+id/titleFrame"</span> <span class="na">style=</span><span class="s">"@style/card_title_frame"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;TextView</span> <span class="na">android:id=</span><span class="s">"@android:id/title"</span> <span class="na">style=</span><span class="s">"@style/card_title"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;ImageButton</span> <span class="na">android:id=</span><span class="s">"@android:id/button1"</span> <span class="na">style=</span><span class="s">"@style/card_popup_anchor"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/RelativeLayout&gt;</span>

        <span class="nt">&lt;com.afollestad.silk.views.text.SilkTextView</span> <span class="na">android:id=</span><span class="s">"@android:id/content"</span>
                                                     <span class="na">style=</span><span class="s">"@style/card_content"</span><span class="nt">/&gt;</span>

        <span class="nt">&lt;com.afollestad.silk.views.text.SilkTextView</span> <span class="na">android:id=</span><span class="s">"@+id/customText"</span>
                                                     <span class="na">style=</span><span class="s">"@style/card_content"</span>
                                                     <span class="na">android:layout_below=</span><span class="s">"@android:id/content"</span><span class="nt">/&gt;</span>

    <span class="nt">&lt;/RelativeLayout&gt;</span>
<span class="nt">&lt;/LinearLayout&gt;</span>
</pre></div>

<p>You'll need a custom adapter in order to fill the contents of this new TextView. Just create a new class that extends <code>CardAdapter</code>:</p>

<div class="highlight highlight-java"><pre><span class="kd">public</span> <span class="kd">class</span> <span class="nc">CustomAdapter</span> <span class="kd">extends</span> <span class="n">CardAdapter</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="nf">CustomAdapter</span><span class="o">(</span><span class="n">Context</span> <span class="n">context</span><span class="o">,</span> <span class="kt">int</span> <span class="n">accentColorRes</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">(</span><span class="n">context</span><span class="o">,</span> <span class="n">accentColorRes</span><span class="o">);</span>
        <span class="c1">// DON'T FORGET TO REGISTER THE LAYOUT</span>
        <span class="n">registerLayout</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">custom_card</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">View</span> <span class="nf">onViewCreated</span><span class="o">(</span><span class="kt">int</span> <span class="n">index</span><span class="o">,</span> <span class="n">View</span> <span class="n">recycled</span><span class="o">,</span> <span class="n">CardBase</span> <span class="n">item</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">View</span> <span class="n">view</span> <span class="o">=</span> <span class="kd">super</span><span class="o">.</span><span class="na">onViewCreated</span><span class="o">(</span><span class="n">index</span><span class="o">,</span> <span class="n">recycled</span><span class="o">,</span> <span class="n">item</span><span class="o">);</span>
        <span class="n">TextView</span> <span class="n">customText</span> <span class="o">=</span> <span class="o">(</span><span class="n">TextView</span><span class="o">)</span> <span class="n">view</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">customText</span><span class="o">);</span>
        <span class="k">if</span><span class="o">(</span><span class="n">customText</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span>
            <span class="n">customText</span><span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="s">"Hello, I'm a custom view"</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">view</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>

<p>Notice that it overrides <code>onViewCreated</code> and sets the text for the custom view. Other methods of CardAdapter that can be overrided include <code>onProcessThumbnail</code>, <code>onProcessTitle</code>, <code>onProcessContent</code>, and <code>onProcessMenu</code> (along with the methods included in <code>SilkAdapter</code>).</p>

<hr><p>Further example can be found in the <a href="https://github.com/afollestad/Cards-UI/tree/master/sample">sample project</a> included in the library; the sample project's dependencies are <a href="https://github.com/afollestad/Cards-UI#using-the-sample">listed in the README</a> of Cards-UI.</p>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/afollestad/Cards-UI/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/afollestad/Cards-UI/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/afollestad/Cards-UI"></a> is maintained by <a href="https://github.com/afollestad">afollestad</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  
  </body>
</html>